(()=>{"use strict";let e=[],t=[];document.getElementById("addBrandButton").addEventListener("click",(()=>{const t=document.getElementById("brand").value;t?(e.push(t),function(){const t=document.getElementById("brandList");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.classList.add("product-item"),n.textContent=e,t.appendChild(n)}))}(),function(){const t=document.getElementById("productBrand");t.innerHTML='<option value="" disabled selected>Select a brand</option>',e.forEach((e=>{const n=document.createElement("option");n.value=e,n.textContent=e,t.appendChild(n)}))}(),document.getElementById("brand").value=""):alert("Please enter a valid brand.")})),document.getElementById("addProductButton").addEventListener("click",(()=>{const e=document.getElementById("productPrice").value,n=document.getElementById("productBrand").value;!e||isNaN(e)||e<=0||!n?alert("Please enter a valid product price and select a brand."):(t.push({price:parseFloat(e),brand:n}),function(){const e=document.getElementById("productList");e.innerHTML="",t.forEach((t=>{const n=document.createElement("li");n.classList.add("product-item"),n.textContent="".concat(t.brand,": $").concat(t.price.toFixed(2)),e.appendChild(n)}))}(),document.getElementById("productPrice").value="",document.getElementById("productBrand").value="")})),document.getElementById("sendButton").addEventListener("click",(async()=>{const n=document.getElementById("token").value,o=document.getElementById("startNumber").value,a=document.getElementById("notificationInterval").value,c=document.getElementById("notificationsPerInterval").value,d=document.getElementById("notificationsCount").value;if(!o||!a||!d||!c||!n||0===t.length)return void alert("Please fill in all fields.");let r=parseInt(o),i=0;for(let s=0;i<d;s++){const o=e.map((e=>t.filter((t=>t.brand===e)))),s=o[Math.floor(Math.random()*o.length)],u=Math.floor(3*Math.random())+1,m=[];let p=0;for(let e=0;e<u;e++){const e=s[Math.floor(Math.random()*s.length)];m.push(e),p+=e.price}const h=m[0].brand,E=1===u?"item":"items",f="$".concat(p.toFixed(2),", ").concat(u," ").concat(E," from Online Store \xb7 ").concat(h);for(let e=0;e<c&&i<d;e++){const e={token:n,title:"".concat("Order #").concat(r),body:f,sound:"shopify_purchase_sound.wav",data:{withSome:"data"}};try{const t=await fetch("https://shopinoti-backend.onrender.com/send-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();t.ok?(i++,r++,console.log("Notification sent: Order #".concat(r-1,", Description: ").concat(f))):console.error("Error sending notification:",n)}catch(l){console.error("Network error:",l);break}}await new Promise((e=>setTimeout(e,1e3*a)))}document.getElementById("message").textContent="All notifications have been sent."}))})();
//# sourceMappingURL=main.6e82c9d8.js.map